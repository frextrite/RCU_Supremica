digraph state_automaton {
	center = true;
	// size = "700,800";
	nodesep = 0.5;
	{node [shape = plaintext, style=invis, label=""] "__init_atomic"};
	node [shape = ellipse, fontsize=10, color = green3];
	edge [fontsize=10];

	"__init_atomic" -> "atomic";

	/* Handling for pirq dis, read-lock, read-unlock, pirq en */
	"atomic" [label = "atomic"];
	"read_locked_atomic" [label = "read_locked_atomic"];
	"atomic" -> "read_locked_atomic" [ label = "read_lock_outer" ];
	"read_locked_atomic" -> "atomic" [ label = "read_unlock_outer" ];
	/* After transition to read_locked_special_atomic,
	 * everything remains same as defer_rlock_atomic_runlock.dot */
	"read_locked_atomic" -> "read_locked_special_atomic" [ label = "tick_urgent" ];
	"read_locked_atomic" -> "read_locked_special_atomic" [ label = "expedited_ipi" ];

	{ rank = min ;
		"__init_atomic";
		"atomic";
	}
}
